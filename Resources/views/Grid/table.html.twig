{% import _self as selfMacros %}

<table{% if options['table_attr'] is defined and options['table_attr'] is iterable %} {{ selfMacros.render_attb(options['table_attr']) | spaceless }}{% endif %}>
	<thead>
		<tr>
			{% for column in columns %}
			<th>
				{{ column.getLabel() }}
			</th>
			{% endfor %}
		</tr>
	</thead>
	<tbody>
		{% for record in records %}
		<tr>
			{% for column in columns %}
			<td>
				{{ column.format(record, source) | raw }}
			</td>
			{% endfor %}
		</tr>
		{% endfor %}
	</tbody>
</table>

{% macro render_attb(attributes) %}
{% for attb, value in attributes %}
    {{ attb }}="{{ value }}"
{% endfor %}
{% endmacro %}